{% load static %}
<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <title>{% block title %}ระบบจัดการชั้นเรียน{% endblock %}</title>

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <!-- ICONS -->
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <!-- STYLESHEET -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #fff 0%, #fff 100%);
      min-height: 100vh;
    }
  </style>
</head>

<body class="h-screen fixed top-0 left-0 w-full overflow-hidden border-gray-300 border-2 bg-gray-100 font-poppins">
  {% if user.is_authenticated %}
  <div class="container flex">
    <!-- Sidebar fix left -->

    <div class="sidebar">
      <div class="menu-btn">
        <i class="ph-bold ph-caret-left"></i>
      </div>
      <div class="head">
        <div class="user-img">
          <img src="{% static 'images/user.jpg' %}" alt="user" />
        </div>
        <div class="user-details">
          <p class="title">web developer</p>
          <p class="name">John Doe</p>
        </div>
      </div>
      <div class="nav">
        <div class="menu">
          <p class="title">Main</p>
          <ul>
            <li>
              <a href="{% url 'classroom_created' %}">
                <i class="icon ph-bold ph-house-simple"></i>
                <span class="text">Home</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class="icon ph-bold ph-user"></i>
                <span class="text">Create lesson</span>
                <i class="arrow ph-bold ph-caret-down"></i>
              </a>
              <ul class="sub-menu">
                <li><a href="{% url 'upload_lesson_file' %}"><span class="text">Create lesson to Image</span></a></li>
                <li><a href="{% url 'upload_lesson_file_video' %}"><span class="text">Create lesson to Video</span></a></li>
              </ul>
            </li>
            <li class="active">
              <a href="#">
                <i class="icon ph-bold ph-file-text"></i>
                <span class="text">Dashboard</span>
              </a>
            </li>
            <li>
              <a href="#">
                <i class="icon ph-bold ph-calendar-blank"></i>
                <span class="text">History</span>
              </a>
            </li>
            <li>
              <a href="{% url 'notifications' %}">
                <i class="icon ph-bold ph-chart-bar"></i>
                <span class="text">Notification</span>
              </a>
            </li>
          </ul>
        </div>
        <!-- <div class="menu">
          <p class="title">Settings</p>
          <ul>
            <li>
              <a href="#">
                <i class="icon ph-bold ph-gear"></i>
                <span class="text">Settings</span>
              </a>
            </li>
          </ul>
        </div> -->
      </div>
      <div class="menu">
        <p class="title">Account</p>
        <ul>
          <!-- <li>
            <a href="#">
              <i class="icon ph-bold ph-info"></i>
              <span class="text">Help</span>
            </a>
          </li> -->
          <li>
            <a href="{% url 'logout' %}">
              <i class="icon ph-bold ph-sign-out"></i>
              <span class="text">Logout</span>
            </a>
          </li>
        </ul>
        <div class="head hover:bg-gray-100 p-2 rounded-lg transition">
          <a href="{% url 'profile_settings' %}">
            <div class="user-img">
              <img src="{% static 'images/user.jpg' %}" alt="user" class="rounded-full w-12 h-12 object-cover" />
            </div>
            </a>
            <div class="user-details">
              <p class="name font-semibold">{{ user.get_full_name|default:user.username }}</p>
              <p class="title text-sm text-gray-500">{{ user.get_user_type_display }}</p>
            </div>
        </div>
      </div>
    </div>

    {% endif %}
    <!-- Content ขวา เลื่อน scroll ได้ -->
    <div class="ml-0 flex-1 h-screen overflow-y-auto ">
      <main class="main-contents p-6">
        {% if messages %}
        {% for message in messages %}
        <div
          class="mb-4 p-4 rounded shadow {{ message.tags|yesno:'bg-green-100,text-green-800,bg-yellow-100,text-yellow-800,bg-red-100,text-red-800' }}">
          {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% block content %}
        {% endblock %}
      </main>
    </div>
  </div>

  <!-- Jquery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js" crossorigin="anonymous"></script>

  <!-- Custom JS -->
  <script src="{% static 'js/script.js' %}"></script>
</body>

</html>